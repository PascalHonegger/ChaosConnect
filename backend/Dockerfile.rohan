FROM gradle:jdk15 as build

COPY . .
RUN gradle :rohan:shadowjar --no-daemon

FROM openjdk:15-jdk-alpine
COPY --from=build /home/gradle/rohan/build/libs/rohan-*-all.jar /rohan.jar
VOLUME /etc/rohan/
ENTRYPOINT ["java","-jar","/rohan.jar"]
